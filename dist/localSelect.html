<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local Game Settings</title>
    <meta name="author" content="Luke Wisner, Chris Bender, Owen Zhang">
    <meta name="description" content="Local Settings select screen"/>
    <link rel="stylesheet" href="../styles/styles.css" />
    <link rel="icon" href="../assets/favicon.png" type="image/x-icon">  
</head>

<body>
    <div id="title" class="centered">
        <img src="../assets/reversiLogo.jpg" alt="reversi logo">
        <h1>REVERSI</h1>
    </div>
    <div id="greeting" class="centered">
        <h2>Select Local Game Settings:</h2>
    </div>
    <div id="selection">
        <!-- This didn't work
            <script type="importmap">
            {
                "imports": {
                    "controller": "../scripts/controller/gameController.js"
                }
            }
        </script>
        <script type="module">
            import {controller} from "../scripts/controller/gameController.js";
        </script>-->

        <div id="boardSize" class="centered choose">
            <h3>Board Size:</h3>
            <button class="sizeBtn selected" type="button" onclick="controller.changeSize(8)">8x8</button>
            <button class="sizeBtn" type="button" onclick="controller.changeSize(10)">10x10</button>
            <button class="sizeBtn" type="button" onclick="controller.changeSize(12)">12x12</button>
        </div>
        <script type = "module">
            import {controller} from "../scripts/controller/gameController.js";
        </script>
        <div id="startingPlayer" class="centered choose">
            <h3>Starting Player:</h3>
            <button class="playerBtn selected" type="button">BLACK</button>
            <button class="playerBtn" type="button">WHITE</button>
        </div>
    </div>
    <script>
        let sizeButtons = document.querySelectorAll('button.sizeBtn');
        let playerButtons = document.querySelectorAll('button.playerBtn');
        sizeButtons.forEach(sizeButton => {
            sizeButton.addEventListener('click', e => {
                let button = e.currentTarget;
                if(!button.classList.contains("selected")){
                    sizeButtons.forEach(btn => btn !== button && btn.classList.remove('selected'));
                    button.classList.toggle('selected');
                } 
            });
        });
        playerButtons.forEach(playerButton => {
            playerButton.addEventListener('click', e => {
                let button = e.currentTarget;
                if(!button.classList.contains("selected")){
                    playerButtons.forEach(btn => btn !== button && btn.classList.remove('selected'));
                    button.classList.toggle('selected');
                } 
            });
        });
    </script>
    <div id="startGame" class="centered">
        <hr>
        <button type="button" onclick="location.href='localGame.html'">START GAME</button>
    </div>
    <div id="exit" class="centered">
        <hr>
        <button type="button" onclick="location.href='gamemode.html'">EXIT</button>
    </div>
</body>
</html>